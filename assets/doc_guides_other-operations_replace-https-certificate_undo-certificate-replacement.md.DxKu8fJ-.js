import{_ as t,c as s,a2 as a,o as i}from"./chunks/framework.BQmytedh.js";const k=JSON.parse('{"title":"Undo certificate replacement process","description":"","frontmatter":{"prev":{"text":"Purchase a new certificate form a CA","link":"/doc/guides/other-operations/replace-https-certificate/purchase-new-ca-certificate"},"next":false},"headers":[],"relativePath":"doc/guides/other-operations/replace-https-certificate/undo-certificate-replacement.md","filePath":"doc/guides/other-operations/replace-https-certificate/undo-certificate-replacement.md"}'),r={name:"doc/guides/other-operations/replace-https-certificate/undo-certificate-replacement.md"};function n(c,e,p,o,l,h){return i(),s("div",null,e[0]||(e[0]=[a(`<h1 id="undo-certificate-replacement-process" tabindex="-1">Undo certificate replacement process <a class="header-anchor" href="#undo-certificate-replacement-process" aria-label="Permalink to &quot;Undo certificate replacement process&quot;">â€‹</a></h1><p>If an exception raises during the certification replacement process, you can undo the entire process by replacing current certificate files for its backup copies.</p><p>The process affects the following files:</p><table tabindex="0"><thead><tr><th>File</th><th>Usage</th></tr></thead><tbody><tr><td><em>BASE_PATH</em>/ssl/<strong>keystore</strong></td><td>Java keystore used by Apache Tomcat to <br>serve HTTPS encoded content</td></tr><tr><td><em>BASE_PATH</em>/ssl/<strong>truststore</strong></td><td>Java Runtime trusted public certificates keystore</td></tr></tbody></table><p>This files are backup before starting the process by appending a timestamp to its name.</p><p>To restore them, we will stop the web service and replace the generated files with the latest backup files.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iochembd$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  BASE_PATH/apache-tomcat/bin/shutdown.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iochembd$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BASE_PATH/ssl/keystore_161019191826</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BASE_PATH/ssl/keystore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iochembd$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BASE_PATH/ssl/truststore_161019191826</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  BASE_PATH/ssl/truststore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iochembd$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  BASE_PATH/apache-tomcat/bin/startup.sh</span></span></code></pre></div><p>With these steps, our original certificates will be restored and the faulty update process fixed.</p>`,8)]))}const f=t(r,[["render",n]]);export{k as __pageData,f as default};
