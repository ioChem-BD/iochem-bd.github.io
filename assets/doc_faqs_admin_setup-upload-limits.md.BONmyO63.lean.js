import{_ as i,c as a,a2 as e,o as t}from"./chunks/framework.BQmytedh.js";const l="/assets/Faqs_upload_size_error.BZckk2NX.png",n="/assets/Faqs_upload_size_error_with_message.B7Drowzw.png",c=JSON.parse('{"title":"Set upload limits","description":"","frontmatter":{"prev":{"text":"Configure email service","link":"/doc/faqs/admin/configure-email"},"next":{"text":"Errors","link":"/doc/faqs/error"}},"headers":[],"relativePath":"doc/faqs/admin/setup-upload-limits.md","filePath":"doc/faqs/admin/setup-upload-limits.md"}'),h={name:"doc/faqs/admin/setup-upload-limits.md"};function p(k,s,d,r,o,F){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="set-upload-limits" tabindex="-1">Set upload limits <a class="header-anchor" href="#set-upload-limits" aria-label="Permalink to &quot;Set upload limits&quot;">​</a></h1><p>The administrator can set size limits to the uploaded files to improve software performance and control disk usage.</p><p>Uploading content using the web interface requires the ioChem-BD web server to perform the chemical files format conversion using web server CPUs. This action can become a bottleneck if multiple large output files are uploaded using this method.</p><p>The use of the <a href="./../../guides/usage/uploading-content-to-create/using-shell-client.html">shell client</a> is the recommended method to favour system performance, setting upload limits can favour this choice.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The ioChem-BD platform has a default maximum file size upload limit set to <strong>1GB</strong> but output files greater than <strong>100MB</strong> should not be uploaded via web interface.</p></div><p>Uploading a file that exceeds the defined size when limitations are set will prompt the following error on the shell client:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  loadadf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt.res</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> large_8gb_file.xtc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> calculation,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wait.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Problems</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ocurred</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> during</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> execution</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rejected</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> because</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> its</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (8192 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) exceeds the configured maximum (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">500</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span></code></pre></div><p>And also to web users:</p><p><img src="`+l+`" alt=""></p><p>The following parameters must be configured on <em>BASE_PATH/create/resource.properties</em> file to enable upload limits, where <em>BASE_PATH</em> is the software installation folder:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.restriction.users.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span></code></pre></div><h2 id="upload-limit-types" tabindex="-1">Upload limit types <a class="header-anchor" href="#upload-limit-types" aria-label="Permalink to &quot;Upload limit types&quot;">​</a></h2><p>There are two types of upload limits: <em>soft</em> and <em>hard</em>. The first is more restrictive than the latest.</p><p>By default, all users fall under the <em>soft</em> limitation type. The platform administrator defines the users allowed to use the <em>hard</em> quota.</p><h3 id="soft-limit" tabindex="-1">Soft limit <a class="header-anchor" href="#soft-limit" aria-label="Permalink to &quot;Soft limit&quot;">​</a></h3><p>Related parameters:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span></code></pre></div><p>The first parameter will define the maximum size for any uploaded file in bytes. The second one will define the maximum size for the output files, the one that consumes the server CPU if uploaded via web. Setting any value to -1 will set it to unlimited.</p><p>The following is an example defining a soft limit on all uploaded files greater than 500MB and output files greater than 25 MB.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 524288000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">               # 500*1024*1024 in bytes </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.soft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26214400</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         #  25*1024*1024 in bytes</span></span></code></pre></div><h3 id="hard-limit" tabindex="-1">Hard limit <a class="header-anchor" href="#hard-limit" aria-label="Permalink to &quot;Hard limit&quot;">​</a></h3><p>Under some circumstances, the <em>soft</em> limit can not be enough for some users, so the hard limit is the option to configure:</p><p>Related parameters:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.restriction.users.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span></code></pre></div><p>The first parameter will define the maximum size for any uploaded file in bytes. The second one will define the maximum size for the output files. The last parameter is a list of the usernames that have the <em>hard</em> limit enabled, separated by colons &quot;:&quot;.</p><p>The following is an example defining a <em>hard</em> limit on all uploaded files greater than 2GB, output files greater than 100 MB and assigning these quota limits to users <em>jdoe</em> and <em>dzavala</em>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2147483648</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.output.file.size.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 104857600</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.restriction.users.hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jdoe:dzavala</span></span></code></pre></div><p>Setting any limit value to -1 will set it to unlimited.</p><h3 id="notifying-users" tabindex="-1">Notifying users <a class="header-anchor" href="#notifying-users" aria-label="Permalink to &quot;Notifying users&quot;">​</a></h3><p>The last configuration parameter allows customizing the upload error message by appending additional steps, such as informing users on how to request the hard limit.:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span></code></pre></div><p>An example of the indications message:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upload.max.file.size.message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contact</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin1@iochem-bd.org</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extended</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> limit.</span></span></code></pre></div><p>The provided message will appear in the warning notifications:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  loadadf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt.res</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> large_8gb_file.xtc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mo3w3o19.fac.opt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> calculation,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wait.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Problems</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ocurred</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> during</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> execution</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rejected</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> because</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> its</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (8192 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) exceeds the configured maximum (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">500</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">). </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contact</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin1@iochem-bd.org</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extended</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> limit.</span></span></code></pre></div><p><img src="`+n+'" alt=""></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Any modification of these parameters will require to reload its values, it can be done in two ways:</p><ul><li>Restarting the ioChem-BD service or</li><li>accessing the refresh global variables url on the Create module:<br><em>https://BASE_URL/create/admintools/uploadlimits</em><br> being <em>BASE_URL</em> the url where ioChem-BD is served.</li></ul></div>',37)]))}const u=i(h,[["render",p]]);export{c as __pageData,u as default};
