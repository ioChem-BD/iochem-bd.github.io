import{_ as i,c as a,a2 as n,o as h}from"./chunks/framework.BQmytedh.js";const g=JSON.parse('{"title":"Configure email service","description":"","frontmatter":{"prev":{"text":"Update platform","link":"/doc/faqs/admin/update-current-distribution"},"next":{"text":"Set upload limits","link":"/doc/faqs/admin/setup-upload-limits"}},"headers":[],"relativePath":"doc/faqs/admin/configure-email.md","filePath":"doc/faqs/admin/configure-email.md"}'),t={name:"doc/faqs/admin/configure-email.md"};function l(p,s,e,k,r,F){return h(),a("div",null,s[0]||(s[0]=[n(`<h1 id="configure-email-service" tabindex="-1">Configure email service <a class="header-anchor" href="#configure-email-service" aria-label="Permalink to &quot;Configure email service&quot;">​</a></h1><p>ioChem-BD can be configured to send <em>reset password</em> emails when the <em>Forgot your password?</em> option is used on the login page. The service also sends notifications to new users with a welcome message and a link to set their password.</p><p>To perform these operations, the email service must be properly configured inside ioChem-BD.</p><h2 id="initial-checks" tabindex="-1">Initial checks <a class="header-anchor" href="#initial-checks" aria-label="Permalink to &quot;Initial checks&quot;">​</a></h2><p>Before configuring our service, will check that we can communicate with the mail server on its port. To do so we need the IP or DNS entry where the mail server resides, then the port number where it runs. The most common ones are:</p><ul><li>25: plain communication, no encoding</li><li>465: using SSL protocol</li><li>587: using STARTTLS protocol</li></ul><p>The port numbers can change or have different types of protocols running on them, take this only as a guide and always talk with your IT team before configuring the service.</p><p>Having the IP or DNS entry, the port and protocol will now check that we have communication through this port. On the server where ioChem-BD resides will run the following <em>telnet</em> command (change the server name and the port to match your server configuration):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> telnet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 465</span></span></code></pre></div><p>If the telnet command connects the server, we can assess the connection is enabled and no firewall is blocking our communication, otherwise, the port must be opened on the network side.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Trying</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XXX.XXX.XXX.XXX...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Connected</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Escape</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> character</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;^]&#39;.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">telnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">quit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> closed</span></span></code></pre></div><p>Now using the <em>nmap</em> command will determine the protocol used in the mail server to communicate:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  nmap</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Pn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --script</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssl-enum-ciphers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 465</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.google.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (XXX.XXX.XXX.XXX)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0.000083s </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">latency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    STATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SERVICE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 465/tcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  smtps</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ssl-enum-ciphers:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   TLSv1.0:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     ciphers:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_3DES_EDE_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - C</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     compressors:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     cipher</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preference:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     warnings:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       64-bit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> block</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cipher</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3DES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulnerable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SWEET32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> attack</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   TLSv1.1:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     ciphers:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ecdh_x25519) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_3DES_EDE_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - C</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     compressors:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     cipher</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preference:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     warnings:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       64-bit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> block</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cipher</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3DES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vulnerable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SWEET32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> attack</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   TLSv1.2:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     ciphers:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (secp256r1) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_128_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_128_CBC_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_128_GCM_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_256_CBC_SHA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_256_CBC_SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       TLS_RSA_WITH_AES_256_GCM_SHA384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (rsa </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     compressors:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     cipher</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preference:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  least</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> strength:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> A</span></span></code></pre></div><p>The command outputs that it is offering the service in different protocols such as TLSv1.0, TLSv1.1, TLSv1.2. Always choose the highest protocol version, in this case, TLSv1.2, the lowest ones are no longer secure.</p><p>A different output can indicate that the service is closed/network communication blocked:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nmap</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Pn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --script</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssl-enum-ciphers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 465</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Starting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Nmap</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7.80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ( </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://nmap.org</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ) at 2022-01-21 13:54 CET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Nmap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (XXX.XXX.XXX.XXX)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Other</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addresses</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtp.gmail.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (not </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">scanned</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): XXXX:XXXXX:XXXX:c07::6c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rDNS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> record</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XXX.XXX.XXX.XXX:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aa-aa-aaaa.aaaaa.aaa</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PORT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    STATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    SERVICE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 465/tcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filtered</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smtps</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Nmap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) scanned in 2.23 seconds</span></span></code></pre></div><p>Now, we will apply this information to the configuration files of ioChem-BD. Edit <em>BASE_PATH/browse/config/dspace.cfg</em> to configure the email service, being <em>BASE_PATH</em> the base folder where ioChem-BD software is installed.</p><p>The properties starting with <em>mail.</em> are the ones devoted to this service.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SMTP mail server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SMTP mail server authentication username and password (if required)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.password</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SMTP mail server alternate port (defaults to 25)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># From address for mail</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.from.address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Currently limited to one recipient!</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">feedback.recipient</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># General site administration (Webmaster) e-mail</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.admin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Recipient for server errors and alerts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alert.recipient</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Recipient for new user registration emails</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registration.notify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set the default mail character set. This may be overridden by providing a line</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># inside the email template &quot;charset: &lt;encoding&gt;&quot;, otherwise this default is used.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.charset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UTF-8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># A comma-separated list of hostnames that are allowed to refer browsers to email forms.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Default behaviour is to accept referrals only from dspace.hostname</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.allowed.referrers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.extraproperties</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span></code></pre></div><p>The following configurations are basic guidelines of the configuration, please refer to this <a href="https://www.tutorialspoint.com/javamail_api/javamail_api_smtp_servers.htm" target="_blank" rel="noreferrer">javax.mail</a> reference page to explore further configurations, most of them will be added to <em>mail.extraproperties</em> property.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Every modification of the email parameters will require restarting the ioChem-BD service to load the new configuration.</p></div><h2 id="stmp-configuration-per-protocol" tabindex="-1">STMP configuration per protocol <a class="header-anchor" href="#stmp-configuration-per-protocol" aria-label="Permalink to &quot;STMP configuration per protocol&quot;">​</a></h2><ul><li><a href="#plaintext">Plain text</a> / no encoding</li><li><a href="#ssl">SSL</a></li><li><a href="#starttls">STARTTLS</a></li></ul><h3 id="plain-text" tabindex="-1">Plain text <a class="header-anchor" href="#plain-text" aria-label="Permalink to &quot;Plain text&quot;">​</a></h3><p>Edit <em>BASE_PATH/browse/config/dspace.cfg</em> with the following properties:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#mail.extraproperties =</span></span></code></pre></div><p>Comment <em>mail.extraproperties</em> property and set port equals 25. This option is not recommended because all information will travel plain, without encryption.</p><h3 id="ssl" tabindex="-1">SSL <a class="header-anchor" href="#ssl" aria-label="Permalink to &quot;SSL&quot;">​</a></h3><p>Edit <em>BASE_PATH/browse/config/dspace.cfg</em> with the following properties:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 465</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.extraproperties</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mail.smtp.ssl.protocols=TLSv1.2,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.socketFactory.port=465,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.socketFactory.fallback=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div><p>Specify the encryption protocol in the <em>mail.extraproperties</em> appending the <em>mail.smtp.ssl.protocols</em> with one that the mail server is using.</p><h3 id="starttls" tabindex="-1">STARTTLS <a class="header-anchor" href="#starttls" aria-label="Permalink to &quot;STARTTLS&quot;">​</a></h3><p>Edit <em>BASE_PATH/browse/config/dspace.cfg</em> with the following properties:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 587</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.extraproperties</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mail.smtp.starttls.enable=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.socketFactory.port=587,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.starttls.required=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>If this setup doesn&#39;t work, try to set also the ssl protocol used:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.server.port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 587</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mail.extraproperties</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mail.smtp.starttls.enable=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.socketFactory.port=587,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.ssl.protocols=TLSv1.2,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   mail.smtp.starttls.required=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>Please contact us at <a href="mailto:contact@iochem-bd.org" target="_blank" rel="noreferrer">contact@iochem-bd.org</a> for further assistance if you have problems configuring the mail service.</p>`,37)]))}const o=i(t,[["render",l]]);export{g as __pageData,o as default};
